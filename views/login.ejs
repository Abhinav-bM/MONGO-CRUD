<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
</head>
<body class="justify-content-center d-flex " style="background-color: grey;">

  

  <div class="col-4 ">

    <form class="form-control text-center " action="/login" method="post" style="background-color: grey; margin-top: 70px;">

      <h1 class="mb-5 text-light">Login</h1>

      <strong><small class="text-danger" id="userNotexist"><%= userNotexist %></small></strong><br>


      <label class="text-light mb-2" for="email">Email</label>
      <input class="form-control" type="text" id="email" name="email"><br>
      <strong><small class="text-danger" id="emailErr"></small></strong><br>
  
      <label class="text-light mb-2" for="password">Password</label>
      <input class="form-control" type="password" id="password" name="password"><br>
      <strong><small class="text-danger" id="passwordErr"></small></strong><br>
  
      <button class="rounded col-3 mt-3 bg-light" type="submit" onclick="validateForm(event)" style="border: none; height: 40px; ">Login</button>
  
      <h6 class="mt-5 text-light">New user ? <button class="rounded col-2 mt-3 bg-light" style="height: 35px; border: none;"><a href="/signup" style="text-decoration: none;color: black;">sign up</a></button></h6>

    </form>

  </div>

  

  <script>
    function validateForm(event) {
  
      let email = document.getElementById('email').value;
      let password = document.getElementById('password').value;
  
      let emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      let passwordRegex = /^.{8,}$/;
  
      let validEmail = emailRegex.test(email);
      let validPassword = passwordRegex.test(password);
  
      if (!validEmail) {
        document.getElementById('emailErr').innerText = "Enter a valid Email";
      } else {
        document.getElementById('emailErr').innerText = ""; // Clear the error message
      }
  
      if (!validPassword) {
        document.getElementById('passwordErr').innerText = "Enter valid password";
      } else {
        document.getElementById('passwordErr').innerText = ""; // Clear the error message
      }
  
      if (!validEmail || !validPassword) {
        event.preventDefault();
        return false;
      }
  
  
      return true;
    }

    // Clear error messages when the form is valid
    document.getElementById('email').addEventListener('input', validateForm);
    document.getElementById('password').addEventListener('input', validateForm);
  </script>
</body>
</html>
